<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>json1</title>
		<meta name="description" content="">
		<meta name="author" content="Administrator">
		<meta name="viewport" content="width=device-width; initial-scale=1.0">
	</head>

	<body>
		<script type="text/javascript">
            var book = {
                title : 'javascript',
                authors : ['xiahua', 'xiatian'],
                edition : 3,
                year : 2011,
            };
            var jsonText = JSON.stringify(book);
            console.log(jsonText);
            //{title:'javascript',authors:['xiahua','xiatian'],edition:3,year:2011};
            
            var jsonText2 = JSON.stringify(book, ["title", "edition"], 4);
            console.log(jsonText2);
            //{title:'javascript',edition:3};每个级别缩进四个字符

            var jsonText3 = JSON.stringify(book, function(key, value) {
                switch(key) {
                    case "authors":
                        return value.join(",");
                    case "year":
                        return 5000;
                    case "edition":
                        return undefined;
                    default:
                        return value;
                }
            }, 4);
            console.log(jsonText3);
            //{title:'javascript',authors:'xiahua,xiatian',year:5000};
            
            var jsonText4 = JSON.stringify(book,null,"--");
            console.log(jsonText4);
            //第三个参数传入符号，返回的值符号代替缩进的空格
            
            var jsoncopy4=JSON.parse(jsonText);
            console.log(jsoncopy4);
            
            var book2 = {
                title : 'css权威指南',
                authors : ['xinxin', 'linda'],
                edition : 5,
                year : 2016,
                toJSON:function(){
                	return this.title;
                }
            };
            var jsonText5=JSON.stringify(book2);
            console.log(jsonText5);
            
            var book6 = {
                title : 'css权威指南',
                authors : ['xinxin', 'linda'],
                edition : 5,
                year : 2016,
                releaseDate:new Date(2011,11,1)
            };
            var jsonText6=JSON.stringify(book6);
            var bookcopy6=JSON.parse(jsonText6,function(key,value){
            	if(key=="releaseDate"){
            		return new Date(value);
            	}else{
            		return value;
            	}
            });
            console.log(bookcopy6);
		</script>
	</body>
</html>
